<!DOCTYPE html>
<html>
<head>
<meta name="keywords" content="Sam Dutton, HTML5, JavaScript" />
<meta name="description" content="Simplest possible examples of HTML, CSS and JavaScript." />
<meta name="viewport" content="width=device-width,initial-scale=1,minimum-scale=1,maximum-scale=1">
<meta http-equiv="X-UA-Compatible" content="chrome=1" />
<base target="_blank">
<title>getUserMedia</title>
<style>
/*@media screen and (min-width: 1000px) {
  video {
    height: 540px;
  }
}*/
</style>
</head>
<body>
<!-- <div id="container">
  <video autoplay></video>
  <script src="js/main.js"></script>
</div> -->

<canvas id="inputCanvas" width="320" height="240"></canvas>
<video id="inputVideo" autoplay loop></video>
<script src="js/lib/processing.js"></script>
<script src="js/lib/headtrackr.js"></script>
<script type="text/javascript">
  var videoInput = document.getElementById('inputVideo');
  var canvasInput = document.getElementById('inputCanvas');

  var htracker = new headtrackr.Tracker();
  htracker.init(videoInput, canvasInput);
  htracker.start();

	function draw(x,y,w,h) {
	  var ctx = document.getElementById('inputCanvas').getContext('2d');
	  ctx.beginPath();
      ctx.rect(x-w/2, y-h/2, w, h);
      ctx.lineWidth = 7;
      ctx.strokeStyle = 'rgb(192, 57, 43)';
      ctx.stroke();
	}
	document.addEventListener('facetrackingEvent', 
	  function (event) {
	    draw(event.x, event.y, event.width,event.height);
	  }
	);
</script>
</body>
</html>
